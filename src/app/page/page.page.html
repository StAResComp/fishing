<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ page }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ page }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container" class="container">
    <div *ngIf="page.toLowerCase() == 'settings'">
      <form *ngIf="!orderSent" #form="ngForm" novalidate (ngSubmit)="saveSettings()">
        <div *ngFor="let key of keys" class="form-group">
          <label for="{{ key }}">{{ getDisplayKey(key) }}: </label>
          <input class="form-control" name="{{ key }}" [value]="settings.get(key)" (change)="settings.set(key, $event.target.value)" />
        </div>
        <button class="btn btn-primary m-1" type="submit">Save Settings</button>
      </form>
    </div>
    <div *ngIf="page.toLowerCase() == 'home'">
      <button (click)="login()" class="btn btn-primary m-1">Login</button>
      <button (click)="refresh()" class="btn btn-primary m-1">Refresh Token</button>
      <button (click)="checkTokens()" class="btn btn-primary m-1">Check stored tokens</button>
      <ul>
        <li>Access token: {{ accessToken }}</li>
        <li>Access token expiry: {{ accessTokenExpiry }} seconds</li>
        <li>Refresh token: {{ refreshToken }}</li>
      </ul>
    </div>
  </div>
</ion-content>
