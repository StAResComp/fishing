<ion-header [translucent]="true">
  <ion-toolbar [ngSwitch]="page.toLowerCase()">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title *ngSwitchCase="'f1entrieslist'">Form Entries</ion-title>
    <ion-title *ngSwitchCase="'f1entrydetails'">Form Entry</ion-title>
    <ion-title *ngSwitchCase="'f1formgen'">Spreadsheet Generation</ion-title>
    <ion-title *ngSwitchCase="'settings'">Your Details</ion-title>
    <ion-title *ngSwitchDefault>{{ page }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar [ngSwitch]="page.toLowerCase()">
      <ion-title size="large" *ngSwitchCase="'f1entrieslist'">
        Form Entries
      </ion-title>
      <ion-title size="large" *ngSwitchCase="'f1entrydetails'">
        Form Entry
      </ion-title>
      <ion-title size="large" *ngSwitchCase="'f1formgen'">
        Spreadsheet Generation
      </ion-title>
      <ion-title size="large" *ngSwitchCase="'settings'">
        Your Details
      </ion-title>
      <ion-title size="large" *ngSwitchDefault>{{ page }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container" class="container">

    <div *ngIf="page.toLowerCase() == 'settings'">
      <ion-grid class="ion-no-padding vertical-padding-only">
        <ion-row>
          <ion-col>
            <p>If you fill in your details here, the corresponding fields will
            be automatically filled in when creating spreadsheets.</p>
          </ion-col>
        </ion-row>
        <ion-row *ngFor="let key of keys">
          <ion-col>
            <ion-label label for="{{ key }}">
              {{ getDisplayKey(key) }}:
            </ion-label>
          </ion-col>
          <ion-col size="auto">
            <ion-select disabled="{{ disableInputs() }}"
                        placeholder="Select office..."
                        *ngIf="key == 'fisheries_office'; else elseInput"
                        [value]="settings.get(key)"
                        (ionChange)="settings.set(key, $event.target.value)">
              <ion-select-option *ngFor="let office of settingsService.getFisheriesOffices()">
                {{ office.name }}
              </ion-select-option>
            </ion-select>
            <ng-template #elseInput>
              <ion-input disabled="{{ disableInputs() }}" class="form-control"
                         name="{{ key }}" [value]="settings.get(key)"
                         (change)="settings.set(key, $event.target.value)">
              </ion-input>
            </ng-template>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-button disabled="{{ disableInputs() }}" expand="block"
                                                    (click)="saveSettings()" >
              Save Settings
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-card>
        <ion-card-content>
          <ion-button disabled="{{ disableInputs() }}"
                      *ngIf='!authService.loggedIn'
                      expand="block" (click)="login()">
            Login
          </ion-button>
          <p *ngIf='authService.loggedIn'>Logged In</p>
        </ion-card-content>
      </ion-card>
    </div>

    <div *ngIf="page.toLowerCase() == 'home'">
      <ion-card>
        <ion-list>
          <ion-item>
            <ion-label>Species:</ion-label>
            <ion-select disabled="{{ disableInputs() }}"
                        [value]="caught.species"
                        (ionChange)="caught.species = $event.target.value">
              <ion-select-option *ngFor="let species of getSpeciesList()">
                {{ species.name }}
              </ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label>No. caught:</ion-label>
            <ion-input disabled="{{ disableInputs() }}" type="number"
                       [value]="caught.caught"
                       (change)="caught.caught = +$event.target.value">
            </ion-input>
          </ion-item>
          <ion-item>
            <ion-label>No. retained:</ion-label>
            <ion-input disabled="{{ disableInputs() }}" type="number"
                       [value]="caught.retained"
                       (change)="caught.retained = +$event.target.value">
            </ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Time:</ion-label>
            <ion-datetime disabled="{{ disableInputs() }}"
                 displayFormat="hh : mm : a"
                 [value]="today.toISOString()"
                 [max]="today.toISOString()"
                 (ionChange)="caught.date = dateFromISO($event.target.value)">
            </ion-datetime>
          </ion-item>
          <ion-item *ngIf='catchFormIncomplete' color='warning'>
            Please complete all fields.
          </ion-item>
          <ion-item *ngIf='catchFormDataError' color='warning'>
            {{ catchFormDataError }}
          </ion-item>
        </ion-list>
        <ion-button disabled="{{ disableInputs() }}" expand="block"
                                                     (click)='recordCatch()'>
          Record Catch
        </ion-button>
      </ion-card>
      <ion-card *ngFor="let caught of catches">
        <ion-card-content>
          {{ caught.date.toLocaleString('en-gb') }} <br />
          {{ caught.species }}: Retained {{ caught.retained }} of {{ caught.caught }}
        </ion-card-content>
      </ion-card>
    </div>

    <div *ngIf="page.toLowerCase() == 'f1entrieslist'">
      <ion-card>
        <ion-button disabled="{{ disableInputs() }}"
                    routerLink="../F1EntryDetails" routerDirection="forward"
                    expand="block">
          Create New Entry
        </ion-button>
        <ion-button disabled="{{ disableInputs() || entries?.length == 0 }}"
                    routerLink="../F1FormGen"
                    routerDirection="forward" expand="block">
          Generate Form
        </ion-button>
      </ion-card>
      <ion-card *ngFor="let entry of entries">
        <ion-card-content>
          <ion-grid class="ion-no-padding">
            <ion-row class="ion-justify-content-between">
              <ion-col size="auto">
                <div>
                  {{ entry.activityDate.toLocaleDateString('en-gb') }} <br />
                  {{ entry.species }}
                </div>
              </ion-col>
              <ion-col size="auto" class="ion-text-end">
                <ion-button disabled="{{ disableInputs() }}"
                            routerLink="../F1EntryDetails"
                            [queryParams]="{ entry_id: entry.id }"
                            routerDirection="forward">
                  Details
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>
    </div>

    <div *ngIf="page.toLowerCase() == 'f1entrydetails'">
      <ion-grid class="ion-no-padding vertical-padding-only">
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Fishing Activity Date:</ion-label></ion-col>
          <ion-col>
            <ion-datetime #activityDatePicker disabled="{{ disableInputs() }}"
                 displayFormat="DD MMM YYYY"
                 [value]="(entry.activityDate != null ? entry.activityDate.toISOString() : null)"
                 min="2021-01-01" [max]="today.toISOString()"
                 (ionChange)="entry.activityDate = dateFromISO($event.target.value)">
            </ion-datetime>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-between ion-align-items-center">
          <ion-col size="auto">
            <ion-button disabled="{{ disableInputs() }}"
                        (click)="entry.activityDate = getDate(-1)">
              Yesterday
            </ion-button>
          </ion-col>
          <ion-col size="auto">
            <ion-button disabled="{{ disableInputs() }}"
                        (click)="entry.activityDate = getDate()">
              Today
            </ion-button>
          </ion-col>
          <ion-col size="auto">
            <ion-button disabled="{{ disableInputs() }}"
                        (click)="activityDatePicker.open()">
              Select...
            </ion-button>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-between ion-align-items-center">
          <ion-col size="auto">
            <ion-label>Location:</ion-label>
          </ion-col>
          <ion-col size="auto">
            {{ entry.getLocation() }}
          </ion-col>
          <ion-col size="auto">
            <ion-button disabled="{{ disableInputs() }}"
                        (click)="presentMapModal()">
              Pick on Map
            </ion-button>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-between ion-align-items-center">
          <ion-col size="auto">
            <ion-label>ICES Rectangle:</ion-label>
          </ion-col>
          <ion-col size="auto">
            {{ entry.getIcesRectangle() }}
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Gear:</ion-label></ion-col>
          <ion-col>
            <ion-select disabled="{{ disableInputs() }}" [value]="entry.gear"
                 (ionChange)="entry.gear = $event.target.value">
              <ion-select-option *ngFor="let gear of getGear()">
                {{ gear.name }}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Mesh Size:</ion-label></ion-col>
          <ion-col>
            <ion-select disabled="{{ disableInputs() }}"
                        [value]="entry.meshSize"
                        (ionChange)="entry.meshSize = $event.target.value">
              <ion-select-option *ngFor="let meshSizes of getMeshSizes()">
                {{ meshSizes.name }}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Species:</ion-label></ion-col>
          <ion-col>
            <ion-select disabled="{{ disableInputs() }}"
                        [value]="entry.species"
                 (ionChange)="entry.species = $event.target.value">
              <ion-select-option *ngFor="let species of getSpeciesList()">
                {{ species.name }}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>State:</ion-label></ion-col>
          <ion-col>
            <ion-select disabled="{{ disableInputs() }}" [value]="entry.state"
                 (ionChange)="entry.state = $event.target.value">
              <ion-select-option *ngFor="let state of getStates()">
                {{ state.name }}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Presentation:</ion-label></ion-col>
          <ion-col>
            <ion-select disabled="{{ disableInputs() }}"
                        [value]="entry.presentation"
                 (ionChange)="entry.presentation = $event.target.value">
              <ion-select-option
                 *ngFor="let presentation of getPresentations()">
                {{ presentation.name }}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Weight (kg)</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input type="number" [(ngModel)]="entry.weight"></ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-between ion-align-items-center">
          <ion-col size="auto">
            <ion-label>DIS?</ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-checkbox [(ngModel)]="entry.DIS"></ion-checkbox>
          </ion-col>
          <ion-col size="auto">
            <ion-label>BMS?</ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-checkbox [(ngModel)]="entry.BMS"></ion-checkbox>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>No. Pots Hauled:</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input type="number" [value]="entry.numPotsHauled"
                       (change)="entry.numPotsHauled = $event.target.value">
            </ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Landing or Discard Date:</ion-label></ion-col>
          <ion-col>
            <ion-datetime #landingDiscardDatePicker
                 disabled="{{ disableInputs() }}"
                 displayFormat="DD MMM YYYY"
                 [value]="(entry.landingDiscardDate != null ? entry.landingDiscardDate.toISOString() : null)"
                 min="2021-01-01" [max]="today.toISOString()"
                 (ionChange)="entry.landingDiscardDate = dateFromISO($event.target.value)">
            </ion-datetime>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-between ion-align-items-center">
          <ion-col size="auto">
            <ion-button disabled="{{ disableInputs() }}"
                        (click)="setLandingDateFromActivityDate()">
              Same Day
            </ion-button>
          </ion-col>
          <ion-col size="auto">
            <ion-button disabled="{{ disableInputs() }}"
                        (click)="setLandingDateFromActivityDate(1)">
              Next Day
            </ion-button>
          </ion-col>
          <ion-col size="auto">
            <ion-button disabled="{{ disableInputs() }}"
                        (click)="landingDiscardDatePicker.open()">
              Select...
            </ion-button>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-label>Buyer, TransporterReg. or Landed to Keeps:</ion-label>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-textarea disabled="{{ disableInputs() }}"
                          [value]="entry.buyerTransporterRegLandedToKeeps"
                 (change)="entry.buyerTransporterRegLandedToKeeps = $event.target.value">
            </ion-textarea>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-button disabled="{{ disableInputs() || !entry.isComplete() }}"
                        expand="block" (click)="recordEntry()">Save Entry
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <div *ngIf="page.toLowerCase() == 'f1formgen'">
      <ion-grid class="ion-no-padding vertical-padding-only">
        <ion-row class="ion-align-items-center">
            <ion-col><ion-label>Fisheries Office:</ion-label></ion-col>
            <ion-col>
            <ion-select disabled="{{ disableInputs() }}"
                        placeholder="Select office..."
              [value]="' '+f1Form.fisheriesOffice?.name+' '"
              (ionChange)="f1Form.fisheriesOffice = settingsService.getFisheriesOffice($event.target.value.trim())">
              <ion-select-option
                    *ngFor="let office of settingsService.getFisheriesOffices()">
                {{ office.name }}
              </ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
        <ion-row>
          {{ f1Form.fisheriesOffice?.address }} <br />
          {{ f1Form.fisheriesOffice?.phone }} <br />
          {{ f1Form.fisheriesOffice?.email }} <br />
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>PLN</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input [(ngModel)]="f1Form.PLN"></ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Vessel Name</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input [(ngModel)]="f1Form.vesselName"></ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Owner/Master</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input [(ngModel)]="f1Form.ownerMaster"></ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-label>Address</ion-label>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-textarea disabled="{{ disableInputs() }}"
                          [(ngModel)]="f1Form.address"></ion-textarea>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Port of Departure</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input [(ngModel)]="f1Form.portOfDeparture"></ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Port of Landing</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input [(ngModel)]="f1Form.portOfLanding"></ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Total Pots Fishing</ion-label></ion-col>
          <ion-col size="auto">
            <ion-input type="number" [(ngModel)]="f1Form.totalPotsFishing">
            </ion-input>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-label>Comments</ion-label>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-textarea disabled="{{ disableInputs() }}"
                          [(ngModel)]="f1Form.comments"></ion-textarea>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col><ion-label>Week Starting</ion-label></ion-col>
          <ion-col>
          <ion-select disabled="{{ disableInputs() }}"
                      placeholder="Select date..."
                      [value]="f1Form.weekStarting?.toISOString()"
            (ionChange)="setf1FormWeekStarting($event.target.value)">
            <ion-select-option *ngFor="let sunday of sundays" [value]="sunday.toISOString()">
              {{ sunday.toLocaleDateString('en-gb', {weekday: 'short', year: 'numeric', month: 'short', day: 'numeric'}) }}
            </ion-select-option>
          </ion-select>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-button disabled="{{ disableInputs() }}" expand='block'
                        (click)='saveDraft()'>Save Draft</ion-button>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-button disabled="{{ disableInputs() }}" expand='block'
                        (click)='generateXLSX()'>Generate Spreadsheet
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-card *ngFor="let entry of entries">
        <ion-card-content>
          <ion-grid class="ion-no-padding">
            <ion-row class="ion-justify-content-between">
              <ion-col size="auto">
                <div>
                  {{ entry.activityDate.toLocaleDateString('en-gb') }} <br />
                  {{ entry.species }}
                </div>
              </ion-col>
              <ion-col size="auto" class="ion-text-end">
                <ion-button disabled="{{ disableInputs() }}"
                            routerLink="../F1EntryDetails"
                            [queryParams]="{ entry_id: entry.id }"
                            routerDirection="forward">
                  Details
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>
    </div>

    <div *ngIf="page.toLowerCase() == 'wildlife'">
      <ion-card>
        <ion-card-header>
          <ion-card-title>New Observation</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-grid class="ion-no-padding vertical-padding-only">
            <ion-row class="ion-align-items-center">
              <ion-col><ion-label>Animal:</ion-label></ion-col>
              <ion-col>
                <ion-select disabled="{{ disableInputs() }}"
                            [value]="observation.animal"
                     (ionChange)="observation.animal = $event.target.value; observation.species = null;">
                  <ion-select-option *ngFor="let animal of getWildlifeAnimals()">
                    {{ animal.name }}
                  </ion-select-option>
                  <ion-select-option>Other</ion-select-option>
                </ion-select>
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="observation.animal && observation.animal.toLowerCase().trim() != 'other'">
              <ion-col><ion-label>Species:</ion-label></ion-col>
              <ion-col>
                <ion-select disabled="{{ disableInputs() }}"
                            [value]='observation.species'
                     (ionChange)="observation.species = $event.target.value">
                  <ion-select-option *ngFor="let species of getWildlifeSpecies(observation.animal)">
                    {{ species }}
                  </ion-select-option>
                  <ion-select-option value='other'>Unknown/Other</ion-select-option>
                </ion-select>
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="(observation.animal && observation.animal.toLowerCase().trim() == 'other') || (observation.species && observation.species.toLowerCase().trim() == 'other')">
              <ion-col><ion-label>Description:</ion-label></ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="(observation.animal && observation.animal.toLowerCase().trim() == 'other') || (observation.species && observation.species.toLowerCase().trim() == 'other')">
              <ion-col>
                <ion-textarea disabled="{{ disableInputs() }}"
                          [(ngModel)]="observation.description"></ion-textarea>
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="(observation.animal && (observation.species || observation.description))">
              <ion-col><ion-label>Number:</ion-label></ion-col>
              <ion-col>
                <ion-input type='number' inputmode='number' [(ngModel)]='observation.num'></ion-input>
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="(observation.animal && (observation.species || observation.description) && observation.num)">
              <ion-col><ion-label>Time:</ion-label></ion-col>
              <ion-col>
                <ion-datetime disabled="{{ disableInputs() }}"
                     displayFormat="hh : mm : a"
                     [value]="observation.getDateString()"
                     [max]="today.toISOString()"
                     (ionChange)="observation.date = dateFromISO($event.target.value)">
                </ion-datetime>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="(observation.animal && (observation.species || observation.description) && observation.num)"
                     class="ion-align-items-center">
              <ion-col size="auto">
                <ion-label>Location:</ion-label>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="(observation.animal && (observation.species || observation.description) && observation.num)"
                     class="ion-justify-content-between ion-align-items-center">
              <ion-col size="auto">
                <ion-button disabled="{{ disableInputs() }}"
                            (click)="presentMapModal(true)">
                  Pick on Map
                </ion-button>
              </ion-col>
              <ion-col size="auto">
                {{ observation.getLocation() }}
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="observation.animal && (observation.species || observation.description) && observation.num && observation.getLatitude() && observation.getLongitude()">
              <ion-col><ion-label>Behaviour:</ion-label></ion-col>
              <ion-col>
                <ion-select disabled="{{ disableInputs() }}" multiple='true'
                            [value]='observation.behaviour'
                     (ionChange)="observation.behaviour = $event.target.value">
                  <ion-select-option *ngFor="let behaviour of getWildlifeBehaviours()">
                    {{ behaviour }}
                  </ion-select-option>
                  <ion-select-option value='other'>Unknown/Other</ion-select-option>
                </ion-select>
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="observation.animal && (observation.species || observation.description) && observation.num && observation.getLatitude() && observation.getLongitude() && observation.behaviour.length > 0">
              <ion-col><ion-label>Behaviour or other notes:</ion-label></ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="observation.animal && (observation.species || observation.description) && observation.num && observation.getLatitude() && observation.getLongitude() && observation.behaviour.length > 0">
              <ion-col>
                <ion-textarea disabled="{{ disableInputs() }}"
                              [(ngModel)]="observation.notes"></ion-textarea>
              </ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="observation.animal && (observation.species || observation.description) && observation.num && observation.getLatitude() && observation.getLongitude() && observation.behaviour.length > 0">
              <ion-col>If you have any photos or videos of the animal, please email them to [email address]</ion-col>
            </ion-row>
            <ion-row class="ion-align-items-center" *ngIf="observation.animal && (observation.species || observation.description) && observation.num && observation.getLatitude() && observation.getLongitude() && observation.behaviour.length > 0">
              <ion-col>
                <ion-button disabled="{{ disableInputs() }}" expand='block'
                            (click)='recordWildlife()'>Record Observation
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>
      <ion-card *ngFor="let observation of observations">
        <ion-card-content>
          <ion-grid class="ion-no-padding">
            <ion-row class="ion-justify-content-between">
              <ion-col size="auto">
                {{ observation.getDateString() }}<br />
                {{ observation.getLocation() }}<br />
                {{ (observation.species ? observation.species : observation.description) }} × {{ observation.num }}<br />
                {{ observation.behaviour.join(', ') }}<br />
                {{ observation.notes }}
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>
    </div>

  </div>
</ion-content>
